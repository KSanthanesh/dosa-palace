{% extends "base_user.html" %}
{% load static %}
{% block content %}

{% if user.is_authenticated %}

<div class="container_fluid">
  <div class="text-center ">
    <h2 class="contact-us">Reserve a Table</h2>
    <form method="POST" class="form">
      {% csrf_token %}

      <div class="form-group">
        <label for="user_name">Username</label>
        <input id="user_name1" name="user_name1" type="text" class="form-control" placeholder="UserName"
          value="{{ user.username }}" readonly required />
        <input id="user_name" name="user_name" type="hidden" class="form-control" placeholder="UserName"
          value="{{ user.id }}" readonly required />

      </div>
      <div class="form-group">
        <label for="visitor_name">Name : </label>
        <input id="visitor_name" name="visitor_name" class="form-control" type="text" placeholder="Name" required />

      </div>
      <div class="form-group">
        <label for="phone_number">Phone : </label>
        <input id="phone_number" name="phone_number" class="form-control" type="tel" placeholder="0899640000"
          minlength="10" maxlength="10" pattern="[0-9]+" required />

      </div>
      <div class="form-group">
        <label for=no_of_people>People:</label>
        <input id="no_of_people" name="no_of_people" class="form-control" type="text" minlength="1" maxlength="2"
          pattern="[0-9]+" placeholder="Number of People" required />

      </div>
      <div class="form-group">
        <label for="date">Date :</label>
        <input id="date" name="date" type="date" class="form-control" onfocus="return dt()" required />

      </div>
      <div class="form-group">
        <label for="time">Time:</label>
        <input id="time" name="time" type="time" class="form-control" value="18:00" min="17:00" max="22:30" required />
      </div>

      <button type="submit" class="btn btn-info">Reserve a Table</button>
    </form>
  </div>
</div>
<script>
  function dt() {
    var dtToday = new Date();

    var month = dtToday.getMonth() + 1;
    var day = dtToday.getDate();
    var year = dtToday.getFullYear();
    if (month < 10)
        month = '0' + month.toString();
    if (day < 10)
        day = '0' + day.toString();

    var maxDate = year + '-' + month + '-' + day;
    $('#date').attr('min', maxDate);
}
</script>
{% endif %}

{% endblock %}
